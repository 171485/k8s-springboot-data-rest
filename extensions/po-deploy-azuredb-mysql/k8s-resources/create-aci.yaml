apiVersion: '2018-10-01'
location: westus
name: po-service-aci-group
properties:
  containers:
  - name: po-service-aci
    properties:
      command:
      - /bin/bash
      - -c
      - java -Dspring.datasource.url="jdbc:mysql://b7e0e961-593d-407b-85c9-8b02526853e9.mysql.database.azure.com:3306/fy5dy7gtsa?useSSL=true&requireSSL=true" -jar ./po-rest-service-1.0.jar
      image: mtcslabtest.azurecr.io/po-service:latest
      ports:
      - port: 8080
      resources:
        requests:
          cpu: 1.0
          memoryInGB: 1.0
      volumeMounts:
      - mountPath: /etc/vol-secrets
        name: secretvolume1
      - mountPath: /etc/config
        name: secretvolume2
  osType: Linux
  restartPolicy: OnFailure
  ipAddress:
    dnsNameLabel: po-service-demo
    type: Public
    ports:
    - protocol: tcp
      port: '8080'
  volumes:
  - name: secretvolume1
    secret:
      username.properties: 'bXlzcWwudXNlcj1lNHl5NmRqdzQ0QGI3ZTBlOTYxLTU5M2QtNDA3Yi04NWM5LThiMDI1MjY4NTNlOQo='
      password.properties: 'bXlzcWwucGFzc3dvcmQ9VHJXM3V1NFk4ajRPOEJDNQo='
  - name: secretvolume2
    secret:
      mysqldb.properties: 'eHl6Cg=='
  imageRegistryCredentials:
  - server: mtcslabtest.azurecr.io
    username: mtcslabtest
    password: '2Sd0wycOwjc27lFgnm=YYRpfmKzlJsBl'
tags: {}
type: Microsoft.ContainerInstance/containerGroups
